<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usage</title>
    <style>
      :root {
        --primary-color: #2d3436;
        --secondary-color: #ffffff;
        --accent-color: #6c5ce7;
        --background-color: #f8f9fa;
        --hover-color: #8f7ff7;
        --text-color: #2d3436;
        --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      body {
        background-color: var(--background-color);
        margin: 0;
        padding: 0;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        color: var(--text-color);
        line-height: 1.6;
      }

      .task-bar {
        background-color: rgba(255, 255, 255, 0.95);
        padding: 20px;
        margin: 0;
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1000;
        box-shadow: var(--shadow);
        backdrop-filter: blur(10px);
        display: flex;
        justify-content: center;
        gap: 40px;
      }

      .task-bar a {
        text-decoration: none;
        color: var(--text-color);
        font-size: 1rem;
        font-weight: 500;
        position: relative;
        padding: 5px 0;
      }

      .task-bar a::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background-color: var(--accent-color);
        transition: width 0.3s ease;
      }

      .task-bar a:hover::after {
        width: 100%;
      }

      .task-bar a:hover {
        color: var(--accent-color);
      }

      .center-text {
        text-align: center;
        font-size: 2.5rem;
        max-width: 900px;
        margin: 140px auto 40px;
        padding: 0 20px;
        line-height: 1.4;
        color: var(--text-color);
        font-weight: 700;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards;
      }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h1,
      h2 {
        font-size: 3.5rem;
        text-align: center;
        color: var(--text-color);
        margin: 60px auto;
        max-width: 1000px;
        padding: 0 20px;
        font-weight: 800;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards 0.2s;
      }

      .grid-container1 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
        padding: 40px;
        max-width: 1200px;
        margin: 0 auto;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards 0.4s;
      }

      .grid-item {
        position: relative;
        overflow: hidden;
        border-radius: 20px;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .grid-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(108, 92, 231, 0.2);
      }

      .grid-item img {
        width: 100%;
        height: 300px;
        object-fit: cover;
        transition: transform 0.3s ease;
      }

      .grid-item:hover img {
        transform: scale(1.05);
      }

      .comments-section {
        margin: 60px auto;
        padding: 40px;
        background-color: #ffffff;
        max-width: 900px;
        border-radius: 20px;
        box-shadow: var(--shadow);
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards 0.6s;
      }

      #comment-form {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
      }

      #comment-input {
        width: 100%;
        padding: 20px;
        margin-bottom: 20px;
        background-color: var(--background-color);
        border: 2px solid transparent;
        border-radius: 10px;
        font-family: inherit;
        font-size: 1rem;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        resize: vertical;
        min-height: 120px;
      }

      #comment-input::placeholder {
        color: #a0a0a0;
      }

      #comment-input:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 4px rgba(108, 92, 231, 0.1);
      }

      #comment-form button {
        background-color: var(--accent-color);
        color: var(--secondary-color);
        border: none;
        padding: 15px 40px;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ease, background-color 0.3s ease;
        width: auto;
        min-width: 150px;
      }

      #comments-container {
        width: 100%;
        max-width: 600px;
        margin: 40px auto 0;
      }

      .comment {
        background-color: var(--background-color);
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        position: relative;
        transition: transform 0.3s ease;
      }

      .comment:hover {
        transform: translateX(5px);
      }

      .delete-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: #ff7675;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 500;
        transition: background-color 0.3s ease;
      }

      .delete-button:hover {
        background-color: #d63031;
      }

      /* Game Styles */
      .game-section {
        margin: 60px auto;
        padding: 40px;
        background-color: #ffffff;
        max-width: 900px;
        border-radius: 20px;
        box-shadow: var(--shadow);
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards 0.8s;
        text-align: center;
      }

      .game-container {
        width: 100%;
        height: 400px;
        position: relative;
        overflow: hidden;
        border-radius: 10px;
        background-color: var(--background-color);
        margin: 20px 0;
      }

      #shipley {
        width: 100px;
        height: 100px;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        cursor: pointer;
        transition: left 0.2s ease;
      }

      .water-drop {
        width: 30px;
        height: 30px;
        position: absolute;
        background: #6c5ce7;
        border-radius: 50%;
        animation: fall 3s linear;
      }

      @keyframes fall {
        from {
          top: -30px;
        }
        to {
          top: 400px;
        }
      }

      .game-score {
        font-size: 2rem;
        font-weight: 700;
        color: var(--accent-color);
        margin: 20px 0;
      }

      .game-controls {
        margin-top: 20px;
      }

      .game-button {
        background-color: var(--accent-color);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        margin: 0 10px;
        transition: background-color 0.3s ease;
      }

      .game-button:hover {
        background-color: var(--hover-color);
      }

      @media (max-width: 768px) {
        .grid-container1 {
          grid-template-columns: 1fr;
        }

        .task-bar {
          padding: 15px;
          gap: 20px;
        }

        h1,
        h2 {
          font-size: 2.5rem;
        }

        .center-text {
          font-size: 1.8rem;
        }

        .game-container {
          height: 300px;
        }
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="task-bar">
      <a href="index.html">Home</a>
      <a href="mission.html">Mission</a>
      <a href="Solutions.html">Solutions</a>
      <a href="Usage.html">Usage</a>
    </div>
    <p></p>
    <!-- Centered text -->
    <p class="center-text">
      How we can track our sustainability and how we can make Gonzaga a more
      sustainable place?
    </p>
    <p></p>
    <p></p>
    <h1>How will we do this?</h1>
    <p class="center-text">
      Well, we are looking at the energy usage and seeing where we can change
      and allow for less usage. We will also explore the different ways that we
      spend electricity, water, energy, how we dispose of trash and recycling,
      and more.
    </p>

    <!-- Grid container for images -->
    <div class="grid-container1">
      <div class="grid-item">
        <img src="water.jpg" alt="water" />
      </div>
      <div class="grid-item">
        <img src="trashandrecyc.jpg" alt="trashandrecyc" />
      </div>
      <div class="grid-item">
        <img src="electric.jpg" alt="electric" />
      </div>
    </div>
    <div class="comments-section">
      <h2>Comments</h2>
      <form id="comment-form">
        <textarea
          id="comment-input"
          rows="4"
          cols="50"
          placeholder="Add your comment here..."
        ></textarea
        ><br />
        <button type="submit">Submit</button>
      </form>
      <div id="comments-container"></div>
    </div>

    <div class="game-section">
      <h2>Save Water with Shipley!</h2>
      <p>
        Help Shipley catch the water drops before they're wasted! Use left and
        right arrow keys or tap/click the sides to move.
      </p>
      <div class="game-container">
        <img src="shipley.png" id="shipley" alt="Shipley character" />
      </div>
      <div class="game-score">Score: <span id="score">0</span></div>
      <div class="game-controls">
        <button class="game-button" id="startGame">Start Game</button>
        <button class="game-button" id="resetGame">Reset</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const commentForm = document.getElementById("comment-form");
        const commentInput = document.getElementById("comment-input");
        const commentsContainer = document.getElementById("comments-container");

        // Load comments from localStorage
        const savedComments =
          JSON.parse(localStorage.getItem("comments")) || [];
        savedComments.forEach((commentText, index) => {
          addCommentToDOM(commentText, index);
        });

        // Handle form submission
        commentForm.addEventListener("submit", function (event) {
          event.preventDefault();
          const commentText = commentInput.value.trim();
          if (commentText) {
            const newIndex = savedComments.length;
            savedComments.push(commentText);
            localStorage.setItem("comments", JSON.stringify(savedComments));
            addCommentToDOM(commentText, newIndex);
            commentInput.value = "";
          }
        });

        function addCommentToDOM(commentText, index) {
          const newComment = document.createElement("div");
          newComment.className = "comment";
          newComment.textContent = commentText;

          const deleteButton = document.createElement("button");
          deleteButton.className = "delete-button";
          deleteButton.textContent = "Delete";
          deleteButton.addEventListener("click", function () {
            deleteComment(index);
          });

          newComment.appendChild(deleteButton);
          commentsContainer.appendChild(newComment);
        }

        function deleteComment(index) {
          savedComments.splice(index, 1);
          localStorage.setItem("comments", JSON.stringify(savedComments));
          commentsContainer.innerHTML = "";
          savedComments.forEach((commentText, newIndex) => {
            addCommentToDOM(commentText, newIndex);
          });
        }
      });

      // Game Script
      document.addEventListener("DOMContentLoaded", function () {
        const gameContainer = document.querySelector(".game-container");
        const shipley = document.getElementById("shipley");
        const scoreElement = document.getElementById("score");
        const startButton = document.getElementById("startGame");
        const resetButton = document.getElementById("resetGame");

        let score = 0;
        let gameActive = false;
        let shipleyPosition = 50;
        let dropInterval;

        function moveShipley(direction) {
          if (!gameActive) return;

          if (direction === "left") {
            shipleyPosition = Math.max(0, shipleyPosition - 5);
          } else {
            shipleyPosition = Math.min(100, shipleyPosition + 5);
          }

          shipley.style.left = `${shipleyPosition}%`;
        }

        function createWaterDrop() {
          if (!gameActive) return;

          const drop = document.createElement("div");
          drop.className = "water-drop";
          drop.style.left = `${Math.random() * 90}%`;
          gameContainer.appendChild(drop);

          drop.addEventListener("animationend", () => {
            if (gameContainer.contains(drop)) {
              gameContainer.removeChild(drop);
            }
          });

          // Check collision
          const checkCollision = setInterval(() => {
            if (!gameContainer.contains(drop)) {
              clearInterval(checkCollision);
              return;
            }

            const dropRect = drop.getBoundingClientRect();
            const shipleyRect = shipley.getBoundingClientRect();

            if (
              dropRect.bottom >= shipleyRect.top &&
              dropRect.left < shipleyRect.right &&
              dropRect.right > shipleyRect.left
            ) {
              score++;
              scoreElement.textContent = score;
              gameContainer.removeChild(drop);
              clearInterval(checkCollision);
            }
          }, 50);
        }

        function startGame() {
          if (gameActive) return;

          gameActive = true;
          score = 0;
          scoreElement.textContent = score;
          dropInterval = setInterval(createWaterDrop, 2000);
          startButton.textContent = "Game Running";
        }

        function resetGame() {
          gameActive = false;
          clearInterval(dropInterval);
          score = 0;
          scoreElement.textContent = score;
          shipleyPosition = 50;
          shipley.style.left = "50%";
          startButton.textContent = "Start Game";

          // Remove all existing drops
          const drops = document.querySelectorAll(".water-drop");
          drops.forEach((drop) => drop.remove());
        }

        // Event Listeners
        startButton.addEventListener("click", startGame);
        resetButton.addEventListener("click", resetGame);

        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            moveShipley("left");
          } else if (e.key === "ArrowRight") {
            moveShipley("right");
          }
        });

        // Touch/mouse controls
        gameContainer.addEventListener("click", (e) => {
          const rect = gameContainer.getBoundingClientRect();
          const x = e.clientX - rect.left;
          if (x < rect.width / 2) {
            moveShipley("left");
          } else {
            moveShipley("right");
          }
        });
      });
    </script>
  </body>
</html>
